在archlinux上重新启动了项目

## 重新配置环境

重新安装了nvm配置了镜像，安装了指定的node环境，毕竟是老项目了。

1. 安装nvm

```bash
yay -S nvm
```

2. 初始化nvm并配置镜像

需要编辑终端配置文件

```bash
sudo vim ~/.bashrc #zsh终端则是 sudo vim ~/.zshrc 
```

将以下内容添加到 `~/.bashrc` 或 `~/.zshrc` 以初始化 `nvm`

```bash
[ -s "/usr/share/nvm/init-nvm.sh" ] && source "/usr/share/nvm/init-nvm.sh"
export NVM_NODEJS_ORG_MIRROR=https://npmmirror.com/mirrors/node/
export NVM_IOJS_ORG_MIRROR=https://npmmirror.com/mirrors/npm/
```

保存退出，运行下面命令使配置生效

```bash
source ~/.bashrc  # 重新加载配置 zsh终端为 source ~/.zshrc
```

3. 下载指定版本node,我这个老项目需要

```bash
nvm install 12
```

4. 配置npm镜像

```bash
npm config get registry #可以查看当前镜像
npm config set registry https://registry.npmmirror.com #将镜像设置为最新的淘宝镜像
```

5.安装vue-cli

```bash
npm i vue-cli
```

6.vue-cli创建项目

```bash
vue create 项目名
```

## 粒子效果第三方库测试

经测试一下内容存在问题，目前只能通过cdn来进行引入，不支持ES进行模块化导入



2. vue项目中的使用

2. 1编写带id标签元素

注意该组建主要调用particlesJS函数实现效果，而这需要组件的模板页面必须有一个带有id选择器的标签，该函数调用时会将id选择器的字符串名作为参数传入，然后在该标签上进行渲染。

```vue
<template>
    <div class="component-container">
      <div id="particles-js" class="particles"></div>
      <!-- 你的其他内容可以放在这里 -->
    </div>
</template>
```

2.3 初始化函数挂载中调用particlesJS

```vue
<script>
export default {
  props: {
    elementId: {
      type: String,
      default: 'particles-container'
    },
    config: {
      type: Object,
      default: () => ({
        particles: {
          // 默认配置
        }
      })
    }
  },
  mounted() {
    window.particlesJS(this.elementId, this.config);
  }
}
</script>
```

3. 认识particlesJS函数

```js
   particlesJS('particles-container', config,callbak);
```

该函数主要有3个参数，一个是vue模板中带有id选择器的标签的选择器字符串名，另一个则是配置对象。是我们主要学习的内容,还有一个则是成功运行后执行的回调函数。

这个配置对象内容很丰富，主要分为以下几类：

3.1 粒子的基本设置：

```js
particles: {
  number: {
    value: 80,               // 粒子数量
    density: {
      enable: true,         // 是否启用密度配置
      value_area: 800       // 粒子散布密度区域大小
    }
  },
  color: {
    value: "#ffffff"        // 粒子颜色，支持HEX、RGB、HSL或"random"
  },
  shape: {
    type: "circle",         // 粒子形状：circle, edge, triangle, polygon, star, image
    stroke: {
      width: 2,            // 粒子边框宽度
      color: "#222222"     // 粒子边框颜色
    },
    polygon: {
      nb_sides: 5          // 多边形边数(当shape为polygon时)
    },
    image: {
      src: "path/to/image", // 自定义粒子图片路径
      width: 100,          // 图片宽度(用于保持宽高比)
      height: 100          // 图片高度(用于保持宽高比)
    }
  },
  opacity: {
    value: 0.5,            // 粒子不透明度(0-1)
    random: true,          // 是否随机不透明度
    anim: {
      enable: true,        // 是否启用不透明度动画
      speed: 3,           // 动画速度
      opacity_min: 0.25,  // 最小不透明度
      sync: false         // 是否同步所有粒子动画
    }
  },
  size: {
    value: 3,              // 粒子大小
    random: true,          // 是否随机大小
    anim: {
      enable: true,        // 是否启用大小动画
      speed: 20,          // 动画速度
      size_min: 0.3,      // 最小大小
      sync: false         // 是否同步所有粒子动画
    }
  }
}
```

3.2 粒子连线设置

```js
line_linked: {
  enable: true,            // 是否启用粒子间连线
  distance: 150,          // 连线最大距离
  color: "#ffffff",       // 连线颜色
  opacity: 0.4,           // 连线不透明度
  width: 1                // 连线宽度
}
```

3.3 粒子运动设置

```js
move: {
  enable: true,           // 是否启用粒子运动
  speed: 2,              // 粒子运动速度
  direction: "none",     // 运动方向：none, top, top-right, right, bottom-right, bottom, bottom-left, left, top-left
  random: true,          // 是否随机方向
  straight: false,       // 是否直线运动
  out_mode: "out",       // 粒子超出画布时的行为：out(消失), bounce(反弹)
  bounce: false,         // 粒子间碰撞时是否反弹
  attract: {
    enable: false,       // 粒子间是否有吸引力
    rotateX: 3000,      // 水平吸引力
    rotateY: 3000       // 垂直吸引力
  }
}
```

3.3 粒子交互设置

```js
interactivity: {
  detect_on: "canvas",   // 交互检测区域：canvas, window
  events: {
    onhover: {
      enable: true,      // 是否启用鼠标悬停效果
      mode: "grab"       // 悬停模式：grab(抓取), bubble(气泡), repulse(排斥)
    },
    onclick: {
      enable: true,      // 是否启用鼠标点击效果
      mode: "push"       // 点击模式：push(推动), remove(移除), bubble(气泡), repulse(排斥)
    }
  }
}
```

