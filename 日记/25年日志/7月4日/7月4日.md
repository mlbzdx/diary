# 7月14 日志



> 
>
> + [x] 研究html中特殊字符的书写
>   + [x] 了解到了html实体，但官方文档看不懂
>   + [x] 知道了实体分为名称实体和数字实体，而且数字实体还分不同的进制，但是如何查阅还是很麻烦，但所幸我们只需掌握常见的一些就可以了。
>   + [x] AI总结文档：[HTML 实体详解及使用指南](./HTML 实体详解及使用指南.md)
> + [x] 研究导航模块的结构，样式和功能
>   + [x] 区分注释了html的轮播图部分和导航箭头部分
>   + [x] 探讨导航箭头应该设置那些样式
>   + [x] 实现箭头浮动入场以及循环浮动的效果
>     + [x] 初次尝试，没有实现，看来是对动画机制不了解，需要学习一下css动画
>     + [x] 知道了动画是通过transition和animation来实现的，正在认识两个的使用方式
>   + [x] 实现了导航控点的添加
>   + [x] 准备重写一遍学习它的写法，进行拆分理解
>   + [x] 将调试好的代码放在[轮播图源代码](./轮播图源代码.md)中，点击查看

首先一个完整的轮播图分为：

- 轮播主体(`carousel-track`)
- 轮播箭头(`carousel-arrow`)
- 轮播控点(`carousel-dots`)

+ [x] 先初步构建模板部分：

  ```vue
  <template>
    <div class="carousel-container">
      <!-- 轮播图主体 -->
      <div class="carousel-track">
        <div class="carousel-items">
          <img src="" alt="" />
        </div>
      </div>
      <!-- 轮播导航箭头 -->
      <button class="carousel-arrow prev"><span>&#10094;</span></button>
      <button class="carousel-arrow next"><span>&#10095;</span></button>
      <!-- 轮播导航控点 -->
       <div class="carousel-dots">
        <span></span>
       </div>
    </div>
  </template>
  ```

+ [x] 完成轮播主体 

  - [x] 轮播图主体的模板部分需要进行vue的列表渲染才能显示完整，现在需要一个包含图片信息的数组，这个数组由父组件传递。父组件传递的数组应该包含了轮播的图片的src路径，图片对应的描述信息等等数据。因此在定义组件属性时，规定父组件传递图片信息的数组（imgInfos）。
  - [x] 轮播图的可视化窗口即容器设置：
    - 设置宽高，溢出隐藏，相对定位
  - [x] 轮播图的轮播主体设置
    - 内轨撑满容器，弹性盒布局
  - [x] 轮播子项设置
    - 子项相对定位，不伸缩，不压缩，宽度高度撑满容器，图片撑满子项，绝对定位，大小自适应
  - [x] 轮播箭头设置
    - 箭头容器设置绝对定位，设置具体宽高，设置圆角背景，据顶部50%，纵向平移调整-50%，左右箭头分别设置左右距离
    - 定义浮动动画，0，100%时，距离左或右40px，透明度为0，50%时，距离左或右20px，透明度为1
    - 动画设置为3s播放一次，无线循环，设置鼠标移入容器悬停即停止播放动画
    - 鼠标移入前背景色为黑色半透明，字体颜色为灰色#ccc，添加鼠标移入箭头区域即更改背景色为黑色低透明，字体颜色为#fff，
    - 设置鼠标移入后的鼠标样式，注意箭头时button元素，需要去除默认的边框
  - [x] 轮播控点设置
    - 控点容器设置距离左边50%，横向平移调整-50%，距离底部较近，内部设置为弹性盒布局，间距8px
    - 每个控点设置宽高10px，设置背景为透明色，选中后显示为白色，边框设置为白色实线，圆角显示。

+ [ ] 完成轮播功能

  - [ ] 要实现无限轮播功能，而不是每次播完后都回到第一张图片，就需要进行数组的克隆，需要一个计算属性cloneImgsArray来返回克隆的新数组。参考[无限轮播](./无限轮播.md)，这个数组需要克隆图片数组的第一项到最后一项，克隆图片数组的最后一项到第一项。
  - [ ] 轮播图本质上控制的是内层轨道元素即（`carousel-track`）的横向平移来实现的，其平移的距离与当前轮播图的索引以及容器视口的宽度相关。这就需要解决两个问题：
    - 一个是轮播图索引（`currentIndex`）的值不能无限递增，需要在轮播到最后一张图片时需要重新初始化。
    - 另一个是容器尺寸的获取，必须在页面挂载或窗口变化后重新获取容器视口的尺寸。