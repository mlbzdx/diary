# 轮播图源代码

## 模板部分(`<template>`)

```vue
<template>
  <div
    class="carousel-container"
    @mouseenter="stopAutoPlay"
    @mouseleave="startAutoPlay"
  >
    <!-- 轮播主体 -->
    <div class="carousel-track" :style="trackStyle">
      <div
        class="carousel-item"
        v-for="(item, index) in cloneItems"
        :key="index"
      >
        <img :src="item.src" alt="" />
      </div>
    </div>
    <!-- 导航箭头 -->
    <button class="carousel-arrow floating-arrow prev" @click="prev">
      <span>&#10094;</span>
    </button>
    <button class="carousel-arrow floating-arrow next" @click="next">
      <span>&#10095;</span>
    </button>

    <!-- Dots 导航点 -->
    <div class="carousel-dots">
      <span
        v-for="(item, index) in items"
        :key="index"
        :class="{ active: currentRealIndex === index }"
        @click="goTo(index)"
      ></span>
    </div>
  </div>
</template>
```

## 脚本部分(`<script>`)

```vue
<script>
export default {
  props: {
    items: {
      type: Array,
      require: true,
    },
    interval: {
      type: Number,
      default: 3000,
    },
  },
  data: () => ({
    currentIndex: 1,
    containerWidth: 0,
    timer: null,
    transitionEnabled: false,
  }),
  computed: {
    cloneItems() {
      return [
        ...this.items.slice(-1),
        ...this.items,
        ...this.items.slice(0, 1),
      ];
    },
    // 计算真实索引（排除克隆项）
    currentRealIndex() {
      if (this.currentIndex <= 0) {
        return this.items.length - 1;
      } else if (this.currentIndex >= this.cloneItems.length - 1) {
        return 0;
      }
      return this.currentIndex - 1;
    },
    trackStyle() {
      return {
        transform: `translateX(-${this.currentIndex * this.containerWidth}px)`,
        transition: this.transitionEnabled ? "transform 0.5s ease" : "none",
      };
    },
  },
  methods: {
    // 上一页
    prev() {
      this.transitionEnabled = true;
      this.currentIndex--;
      this.checkBoundary();
    },
    // 下一页
    next() {
      this.transitionEnabled = true;
      this.currentIndex++;
      this.checkBoundary();
    },
    // 检查边界（无缝跳转）
    checkBoundary() {
      if (this.currentIndex <= 0) {
        setTimeout(() => {
          this.transitionEnabled = false;
          this.currentIndex = this.cloneItems.length - 2;
        }, 500);
      } else if (this.currentIndex >= this.cloneItems.length - 1) {
        setTimeout(() => {
          this.transitionEnabled = false;
          this.currentIndex = 1;
        }, 500);
      }
    },
    // 跳转到指定索引
    goTo(index) {
      this.transitionEnabled = true;
      this.currentIndex = index + 1; // 因为前面有一个克隆项
    },
    startAutoPlay() {
      this.timer = setInterval(this.next, this.interval);
    },
    stopAutoPlay() {
      clearInterval(this.timer);
    },
    // 更新容器宽度（响应式）
    updateContainerWidth() {
      this.containerWidth = this.$el.clientWidth;
    },
  },
  mounted() {
    this.updateContainerWidth();
    this.startAutoPlay();
    window.addEventListener("resize", this.updateContainerWidth);
  },
  beforeDestroy() {
    this.stopAutoPlay();
    window.removeEventListener("resize", this.updateContainerWidth);
  },
};
</script>
```

## 样式部分(`<style>`)

```less
<style lang="less" scoped>
.carousel-container {
  position: relative;
  overflow: hidden;
  width: 50vw;
  height: 50vh;
  margin: 0 auto;

  .carousel-track {
    width: 100%;
    height: 100%;
    display: flex;
    .carousel-item {
      flex: 0 0 100%;
      height: 100%;
      img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
    }
  }

  .carousel-arrow {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 40px;
    height: 40px;
    background: rgba(0, 0, 0, 0.5);
    color: white;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    z-index: 10;
    opacity: 0;

    /* 初始位置 */
    &.prev {
      animation: pulseLeft 3s infinite;
    }
    &.next {
      animation: pulseRight 3s infinite;
    }
    &:hover {
      background: rgba(0, 0, 0, 0.9);
    }
  }

  &:hover {
    .carousel-arrow {
      animation-play-state: paused;
      opacity: 0.8;
    }
  }
}

/* 左箭头呼吸动画 */
@keyframes pulseLeft {
  0%,
  100% {
    opacity: 0;
    left: 40px;
  }
  50% {
    opacity: 0.8;
    left: 20px;
  }
}

/* 右箭头呼吸动画（镜像效果） */
@keyframes pulseRight {
  0%,
  100% {
    opacity: 0;
    right: 40px;
  }
  50% {
    opacity: 0.8;
    right: 20px;
  }
}

/* Dots 导航点 */
.carousel-dots {
  position: absolute;
  bottom: 20px;
  left: 0;
  right: 0;
  display: flex;
  justify-content: center;
  gap: 8px;
  z-index: 10;

  span {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.5);
    cursor: pointer;
    transition: all 0.3s ease;

    &.active {
      background: white;
      transform: scale(1.2);
    }

    &:hover {
      background: white;
    }
  }
}

/* 悬停效果 */
&:hover {
  .carousel-arrow {
    opacity: 1;
  }
}
</style>

```

